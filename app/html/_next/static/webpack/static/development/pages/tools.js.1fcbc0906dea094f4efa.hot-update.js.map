{"version":3,"file":"static/webpack/static\\development\\pages\\tools.js.1fcbc0906dea094f4efa.hot-update.js","sources":["webpack:///./components/JsonView/index.js"],"sourcesContent":["import { Input, Button, Card, Modal } from \"antd\";\r\nimport dynamic from \"next/dynamic\";\r\nconst { TextArea } = Input;\r\nimport css from \"./index.less\";\r\n// import ReactJson from \"react-json-view\";\r\nconst ReactJson = dynamic(import(\"react-json-view\"), {\r\n  ssr: false //这个要加上,禁止使用 SSR\r\n});\r\nexport default class extends React.Component {\r\n  static async getInitialProps({ req }) {\r\n    const userAgent = req ? req.headers[\"user-agent\"] : navigator.userAgent;\r\n    return { userAgent };\r\n  }\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      json: [\r\n        {\r\n          id: \"000000001\",\r\n          avatar: \"https://xxx.jpg\",\r\n          title: \"Json View\",\r\n          datetime: \"2017-08-09\",\r\n          type: \"notification\"\r\n        },\r\n\r\n      ]\r\n    };\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n  onChange(ev) {\r\n    let json = \"{}\";\r\n    let value = ev.target.value;\r\n    try {\r\n      value = eval(`(${value})`);\r\n      value = JSON.stringify(value);\r\n    } catch (error) { }\r\n\r\n    try {\r\n      json = JSON.parse(value);\r\n    } catch (error) { }\r\n    if (json) {\r\n      this.setState({ json: json });\r\n    }\r\n    console.log(json, value);\r\n  }\r\n  render() {\r\n    return (\r\n      <div className={css.box}>\r\n        <div>\r\n          <TextArea\r\n            style={{ height: \"100%\" }}\r\n            defaultValue={JSON.stringify(this.state.json)}\r\n            onChange={this.onChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <ReactJson\r\n            displayDataTypes={true}\r\n            src={this.state.json}\r\n            theme=\"ocean\"\r\n            collapsed={false}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;AAGA;AACA;AACA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AALA;AAFA;AAYA;AAdA;AAeA;AACA;;;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;;;;AAzDA;AACA;;;;;A","sourceRoot":""}